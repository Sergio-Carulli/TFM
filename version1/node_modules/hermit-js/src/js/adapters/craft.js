
import log from './../core/log';
import XHR from './../core/xhr';

export default {

	init(opts){

		this.defaults = {
			baseUrl: '/'
		};

		this.options = Object.assign({}, this.defaults, opts);
		this.type = 'json';
		this.apiUrl = 'api/'

		this.xhr = new XHR(this.type);
	},

	getData(matchConfig){

		const slug = matchConfig.uri[ matchConfig.uri.length - 1 ];
		// const url = this.options.baseUrl  + this.apiUrl + '?slug=' + matchConfig.uri;
		const url = 'https://reqres.in/api/unknown/2';

		return new Promise((resolve, reject)=>{

			this.xhr.get(url)
			.then((res)=>{
				let response = typeof res.response == 'object' ? res.response : JSON.parse(res.response);
				resolve(this.formatData(response));
			})
			.catch((err)=>{
				reject(err);
			});
		});
	},

	formatData(data){
		return {
			locals: [],
			globals: [],
			modules: []
		}
	},
}
